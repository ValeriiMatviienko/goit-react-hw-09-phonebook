(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{14:function(e,t,n){e.exports={form:"Signup_form__Z8IwT",heading:"Signup_heading__3RzlV",label:"Signup_label__9c0MY",input:"Signup_input__uGBk8",cybrbtn:"Signup_cybrbtn__2ODg3",cybrbtn__glitch:"Signup_cybrbtn__glitch__3Y2nq",glitch:"Signup_glitch__3Xu_e"}},17:function(e,t,n){e.exports={form:"Login_form__23ei6",heading:"Login_heading__2ngcj",label:"Login_label__4rVlS",input:"Login_input__fNJVG",cybrbtn:"Login_cybrbtn__399SC",cybrbtn__glitch:"Login_cybrbtn__glitch__3K_Ep",glitch:"Login_glitch__1SgrK"}},20:function(e,t,n){e.exports={form:"InputForm_form__2BRFt",label:"InputForm_label__6mvVh",input:"InputForm_input__29kk9",cybrbtn:"InputForm_cybrbtn__23e-b",cybrbtn__glitch:"InputForm_cybrbtn__glitch__bcuk-",glitch:"InputForm_glitch__3ATac"}},23:function(e,t,n){e.exports={container:"UserMenu_container__2jdJn",avatar:"UserMenu_avatar__lQQXA",name:"UserMenu_name__-Tjhj",cybrbtn:"UserMenu_cybrbtn__3BUWv",cybrbtn__glitch:"UserMenu_cybrbtn__glitch__1uEF5",glitch:"UserMenu_glitch__LdPOy"}},24:function(e,t,n){e.exports={container:"LoginMenu_container__28bX7",cybrbtn:"LoginMenu_cybrbtn__A2I__",cybrbtn__glitch:"LoginMenu_cybrbtn__glitch__2Mn-W",glitch:"LoginMenu_glitch__1UyHV"}},25:function(e,t,n){e.exports={container:"Navigation_container__1mlCv",cybrbtn:"Navigation_cybrbtn__1w5fR",cybrbtn__glitch:"Navigation_cybrbtn__glitch__1PzuO",glitch:"Navigation_glitch__165h9"}},28:function(e,t,n){e.exports={list:"Phonebook_list__1CrpZ",item:"Phonebook_item__2jund",close:"Phonebook_close__3b4wU"}},36:function(e,t,n){e.exports={wrapper:"Filter_wrapper__1Fp6O",label:"Filter_label__3NxB1",input:"Filter_input__3ztVe"}},42:function(e,t,n){e.exports={section:"Container_section__31I-w",heading:"Container_heading__3dJTc"}},55:function(e,t,n){e.exports={appbar:"Appbar_appbar__3J4tb"}},56:function(e,t,n){e.exports={heading:"HomeView_heading__2qwCx"}},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c,r,a,s,o,i,u=n(1),b=n.n(u),l=n(30),j=n.n(l),h=n(13),O=n(4),d=n(53),p=n(34),g=n(2),_=n(18),f=n(54),m=n.n(f),x=n(3),v=n(6),y={registerRequest:Object(g.b)("auth/registerRequest"),registerSuccess:Object(g.b)("auth/registerSuccess"),registerError:Object(g.b)("auth/registerError"),loginRequest:Object(g.b)("auth/loginRequest"),loginSuccess:Object(g.b)("auth/loginSuccess"),loginError:Object(g.b)("auth/loginError"),logoutRequest:Object(g.b)("auth/logoutRequest"),logoutSuccess:Object(g.b)("auth/logoutSuccess"),logoutError:Object(g.b)("auth/logoutError"),getCurrentUserRequest:Object(g.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(g.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(g.b)("auth/getCurrentUserError")},N={name:null,email:null},C=Object(g.c)(N,(c={},Object(x.a)(c,y.registerSuccess,(function(e,t){return t.payload.user})),Object(x.a)(c,y.loginSuccess,(function(e,t){return t.payload.user})),Object(x.a)(c,y.logoutSuccess,(function(){return N})),Object(x.a)(c,y.getCurrentUserSuccess,(function(e,t){return t.payload})),c)),S=Object(g.c)(null,(r={},Object(x.a)(r,y.registerSuccess,(function(e,t){return t.payload.token})),Object(x.a)(r,y.loginSuccess,(function(e,t){return t.payload.token})),Object(x.a)(r,y.logoutSuccess,(function(){return null})),r)),k=Object(g.c)(null,(a={},Object(x.a)(a,y.registerError,(function(e,t){return t.payload})),Object(x.a)(a,y.loginError,(function(e,t){return t.payload})),Object(x.a)(a,y.logoutError,(function(e,t){return t.payload})),Object(x.a)(a,y.getCurrentUserError,(function(e,t){return t.payload})),a)),w=Object(g.c)(!1,(s={},Object(x.a)(s,y.registerSuccess,(function(){return!0})),Object(x.a)(s,y.loginSuccess,(function(){return!0})),Object(x.a)(s,y.getCurrentUserSuccess,(function(){return!0})),Object(x.a)(s,y.registerError,(function(){return!1})),Object(x.a)(s,y.loginError,(function(){return!1})),Object(x.a)(s,y.getCurrentUserError,(function(){return!1})),Object(x.a)(s,y.logoutSuccess,(function(){return!1})),s)),E=Object(v.c)({user:C,token:S,isAuthenticated:w,error:k}),U=Object(g.b)("contacts/fetchContactsRequest"),R=Object(g.b)("contacts/fetchContactsSuccess"),F=Object(g.b)("contacts/fetchContactsError"),L=Object(g.b)("contacts/addContactRequest"),T=Object(g.b)("contacts/addContactSuccess"),A=Object(g.b)("contacts/addContactError"),q=Object(g.b)("contacts/deleteContactRequest"),I=Object(g.b)("contacts/deleteContactSuccess"),M=Object(g.b)("contacts/deleteContactError"),P=Object(g.b)("contacts/changeFilter"),D=Object(g.c)([],(o={},Object(x.a)(o,R,(function(e,t){return t.payload})),Object(x.a)(o,T,(function(e,t){var n=t.payload;return[].concat(Object(p.a)(e),[n])})),Object(x.a)(o,I,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),o)),V=Object(g.c)(!1,(i={},Object(x.a)(i,U,(function(){return!0})),Object(x.a)(i,R,(function(){return!1})),Object(x.a)(i,F,(function(){return!1})),Object(x.a)(i,L,(function(){return!0})),Object(x.a)(i,T,(function(){return!1})),Object(x.a)(i,A,(function(){return!1})),Object(x.a)(i,q,(function(){return!0})),Object(x.a)(i,I,(function(){return!1})),Object(x.a)(i,M,(function(){return!1})),i)),z=Object(g.c)("",Object(x.a)({},P,(function(e,t){return t.payload}))),B=Object(g.c)(null,{}),J=Object(v.c)({contacts:D,filter:z,loading:V,error:B}),H=Object(p.a)(Object(g.d)({serializableCheck:{ignoredActions:[_.a,_.f,_.b,_.c,_.d,_.e]}})),W={key:"auth",storage:m.a,whitelist:["token"]},X=Object(g.a)({reducer:{auth:Object(_.g)(W,E),contacts:J},middleware:H,devTools:!1}),G={store:X,persistor:Object(_.h)(X)},K=n(5),Q=n(15),Y=n(16),Z=n.n(Y),$=n(29),ee=n(11),te=n.n(ee);te.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var ne=function(e){te.a.defaults.headers.common.Authorization="Bearer ".concat(e)},ce=function(){te.a.defaults.headers.common.Authorization=""},re=function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){var c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y.registerRequest()),t.prev=1,t.next=4,te.a.post("/users/signup",e);case 4:c=t.sent,ne(c.data.token),n(y.registerSuccess(c.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(y.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},ae=function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){var c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y.loginRequest()),t.prev=1,t.next=4,te.a.post("/users/login",e);case 4:c=t.sent,ne(c.data.token),n(y.loginSuccess(c.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(y.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},se=function(){return function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y.logoutRequest()),e.prev=1,e.next=4,te.a.post("users/logout");case 4:ce(),t(y.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(y.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=Object($.a)(Z.a.mark((function e(t,n){var c,r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),r=c.auth.token){e.next=3;break}return e.abrupt("return");case 3:return ne(r),t(y.getCurrentUserRequest()),e.prev=5,e.next=8,te.a.get("users/current");case 8:a=e.sent,t(y.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(y.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()},ie=n(17),ue=n.n(ie),be=n(0);function le(){var e=Object(O.b)(),t=Object(u.useState)(""),n=Object(Q.a)(t,2),c=n[0],r=n[1],a=Object(u.useState)(""),s=Object(Q.a)(a,2),o=s[0],i=s[1],b=Object(u.useCallback)((function(e){var t=e.currentTarget,n=t.name,c=t.value;"email"===n&&r(c),"password"===n&&i(c)}),[]),l=Object(u.useCallback)((function(t){t.preventDefault(),e(ae({email:c,password:o}))}),[e,c,o]);return Object(be.jsxs)("form",{className:ue.a.form,onSubmit:l,children:[Object(be.jsx)("h2",{className:ue.a.heading,children:"SignIn"}),Object(be.jsxs)("label",{className:ue.a.label,children:["Email",Object(be.jsx)("input",{className:ue.a.input,type:"email",name:"email",autoComplete:"off",placeholder:"Enter your e-mail",onChange:b})]}),Object(be.jsxs)("label",{className:ue.a.label,children:["Password",Object(be.jsx)("input",{className:ue.a.input,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your password",onChange:b})]}),Object(be.jsxs)("button",{type:"submit",className:ue.a.cybrbtn,children:[Object(be.jsx)("span",{"aria-hidden":!0,className:ue.a.cybrbtn__glitch,children:"Sign in"}),"sign in"]})]})}var je=n(14),he=n.n(je);function Oe(){var e=Object(O.b)(),t=Object(u.useState)(""),n=Object(Q.a)(t,2),c=n[0],r=n[1],a=Object(u.useState)(""),s=Object(Q.a)(a,2),o=s[0],i=s[1],b=Object(u.useState)(""),l=Object(Q.a)(b,2),j=l[0],h=l[1],d=Object(u.useCallback)((function(e){var t=e.currentTarget,n=t.name,c=t.value;switch(n){case"name":r(c);break;case"email":i(c);break;case"password":h(c);break;default:console.log(new Error)}}),[]),p=Object(u.useCallback)((function(t){t.preventDefault(),e(re({name:c,email:o,password:j}))}),[e,o,c,j]);return Object(be.jsxs)("form",{className:he.a.form,onSubmit:p,children:[Object(be.jsx)("h2",{className:he.a.heading,children:"Sign up"}),Object(be.jsxs)("label",{className:he.a.label,children:["Name",Object(be.jsx)("input",{className:he.a.input,type:"text",name:"name",autoComplete:"off",placeholder:"Enter your name",onChange:d})]}),Object(be.jsxs)("label",{className:he.a.label,children:["Email",Object(be.jsx)("input",{className:he.a.input,type:"email",name:"email",autoComplete:"off",placeholder:"Enter your e-mail",onChange:d})]}),Object(be.jsxs)("label",{className:he.a.label,children:["Password",Object(be.jsx)("input",{className:he.a.input,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your password",onChange:d})]}),Object(be.jsxs)("button",{type:"submit",className:he.a.cybrbtn,children:[Object(be.jsx)("span",{"aria-hidden":!0,className:he.a.cybrbtn__glitch,children:"Register"}),"Register"]})]})}var de=function(e){return e.auth.isAuthenticated},pe=function(e){return e.auth.user.name},ge=n(23),_e=n.n(ge);function fe(){var e=Object(O.b)(),t=Object(O.c)(pe);return Object(be.jsxs)("div",{className:_e.a.container,children:[Object(be.jsx)("span",{className:_e.a.avatar,children:t.slice(0,1)}),Object(be.jsx)("span",{className:_e.a.name,children:t}),Object(be.jsxs)("button",{className:_e.a.cybrbtn,type:"button",onClick:function(){e(se())},children:[Object(be.jsx)("span",{"aria-hidden":!0,className:_e.a.cybrbtn__glitch,children:"Log Out"}),"Log Out"]})]})}var me=n(24),xe=n.n(me),ve=function(){return Object(be.jsxs)("div",{className:xe.a.container,children:[Object(be.jsxs)(h.b,{className:xe.a.cybrbtn,to:"/signup",children:[Object(be.jsx)("span",{"aria-hidden":!0,className:xe.a.cybrbtn__glitch,children:"SignUp"}),"SignUp"]}),Object(be.jsxs)(h.b,{className:xe.a.cybrbtn,to:"/login",children:[Object(be.jsx)("span",{"aria-hidden":!0,className:xe.a.cybrbtn__glitch,children:"SignIn"}),"SignIn"]})]})},ye=n(25),Ne=n.n(ye),Ce=function(){return Object(be.jsxs)("div",{className:Ne.a.container,children:[Object(be.jsxs)(h.b,{className:Ne.a.cybrbtn,exact:!0,to:"/",children:[Object(be.jsx)("span",{"aria-hidden":!0,className:Ne.a.cybrbtn__glitch,children:"Home"}),"Home"]}),Object(be.jsxs)(h.b,{className:Ne.a.cybrbtn,to:"/phonebook",children:[Object(be.jsx)("span",{"aria-hidden":!0,className:Ne.a.cybrbtn__glitch,children:"Phonebook"}),"Phonebook"]})]})},Se=n(55),ke=n.n(Se);function we(){var e=Object(O.c)(de);return Object(be.jsxs)("div",{className:ke.a.appbar,children:[Object(be.jsx)(Ce,{}),e?Object(be.jsx)(fe,{}):Object(be.jsx)(ve,{})]})}var Ee=n(32),Ue=function(e){return e.contacts.loading},Re=function(e){return e.contacts.contacts},Fe=function(e){return e.contacts.filter},Le=Object(Ee.a)([Re,Fe],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),Te=n(36),Ae=n.n(Te);function qe(){var e=Object(O.b)(),t=Object(O.c)(Fe);return Object(be.jsx)("div",{className:Ae.a.wrapper,children:Object(be.jsxs)("label",{className:Ae.a.label,children:["Find by Name",Object(be.jsx)("input",{className:Ae.a.input,type:"text",value:t,onChange:function(t){return e(P(t.target.value))}})]})})}te.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var Ie=n(20),Me=n.n(Ie);function Pe(){var e=Object(O.b)(),t=Object(u.useState)(""),n=Object(Q.a)(t,2),c=n[0],r=n[1],a=Object(u.useState)(""),s=Object(Q.a)(a,2),o=s[0],i=s[1],b=Object(O.c)(Re),l=function(e){var t=e.currentTarget,n=t.name,c=t.value;"name"===n&&r(c),"number"===n&&i(c)},j=Object(u.useCallback)((function(t){t.preventDefault();var n=b.find((function(e){return e.name.toLowerCase()===c.toLowerCase()}));if(function(e){return!/^\d[\d\(\)\ -]{4,14}\d$/.test(e)}(o))alert("Enter the correct number phone!");else{if(n)return alert("".concat(c," Already exists")),void h();!function(t,n){e(function(e){var t=e.name,n=e.number;return function(e){var c={name:t,number:n};e(L()),te.a.post("/contacts",c).then((function(t){var n=t.data;return e(T(n))})).catch((function(t){return e(A(t.message))}))}}({name:t,number:n}))}(c,o),h()}}),[b,e,c,o]),h=function(){r(""),i("")};return Object(be.jsxs)("form",{className:Me.a.form,onSubmit:j,children:[Object(be.jsx)("label",{className:Me.a.label,htmlFor:"name",children:"Name"}),Object(be.jsx)("input",{id:"name",type:"text",onChange:l,className:Me.a.input,name:"name",value:c,placeholder:"Name",autoComplete:"off",autoFocus:!0}),Object(be.jsx)("label",{className:Me.a.label,htmlFor:"number",children:"Number"}),Object(be.jsx)("input",{id:"number",type:"text",onChange:l,className:Me.a.input,name:"number",value:o,placeholder:"Phone number",autoComplete:"off"}),Object(be.jsxs)("button",{type:"submit",className:Me.a.cybrbtn,children:[Object(be.jsx)("span",{"aria-hidden":!0,className:Me.a.cybrbtn__glitch,children:"ADD CONTACT"}),"ADD CONTACT"]})]})}var De=n(19),Ve=n(28),ze=n.n(Ve);function Be(e){var t=e.id,n=e.name,c=e.number,r=Object(O.b)(),a=function(e){var t;r((t=e,function(e){e(q()),te.a.delete("/contacts/".concat(t)).then((function(){return e(I(t))})).catch((function(t){return e(M(t.message))}))}))};return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("span",{children:[n," : ",c]}),Object(be.jsx)("button",{type:"button",className:ze.a.close,onClick:function(){return a(t)},children:"+"})]})}function Je(){var e=Object(O.c)(Le);return Object(be.jsx)(be.Fragment,{children:e&&Object(be.jsx)("ul",{className:ze.a.list,children:e.map((function(e){return Object(be.jsx)("li",{className:ze.a.item,children:Object(be.jsx)(Be,Object(De.a)({},e))},e.id)}))})})}var He=n(42),We=n.n(He),Xe=function(e){var t=e.title,n=e.children;return Object(be.jsxs)("section",{className:We.a.section,children:[Object(be.jsx)("h2",{className:We.a.heading,children:t}),n]})};Xe.defaultProps={title:""};var Ge=Xe;function Ke(){var e=Object(O.b)(),t=Object(O.c)(Ue);return Object(u.useEffect)((function(){e((function(e){e(U()),te.a.get("/contacts").then((function(t){var n=t.data;return e(R(n))})).catch((function(t){return e(F(t.message))}))}))}),[e]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ge,{title:"Phonebook",children:Object(be.jsx)(Pe,{})}),Object(be.jsxs)(Ge,{title:"Contacts",children:[Object(be.jsx)(qe,{}),t&&Object(be.jsx)("h2",{children:" Loading contacts..."}),Object(be.jsx)(Je,{})]})]})}var Qe=n(56),Ye=n.n(Qe),Ze=function(){return Object(be.jsx)("h1",{className:Ye.a.heading,children:"Welcome to Cyberbook_"})},$e=n(35);function et(e){e.isAuthenticated;var t=e.redirectTo,n=e.children,c=Object($e.a)(e,["isAuthenticated","redirectTo","children"]),r=Object(O.c)(de);return Object(be.jsx)(K.b,Object(De.a)(Object(De.a)({},c),{},{children:r&&c.restricted?Object(be.jsx)(K.a,{to:t}):n}))}function tt(e){e.isAuthenticated;var t=e.redirectTo,n=e.children,c=Object($e.a)(e,["isAuthenticated","redirectTo","children"]),r=Object(O.c)(de);return Object(be.jsx)(K.b,Object(De.a)(Object(De.a)({},c),{},{children:r?n:Object(be.jsx)(K.a,{to:t})}))}function nt(){var e=Object(O.b)();return Object(u.useEffect)((function(){e(oe())}),[e]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(we,{}),Object(be.jsxs)(K.d,{children:[Object(be.jsx)(et,{exact:!0,path:"/",children:Object(be.jsx)(Ze,{})}),Object(be.jsx)(et,{path:"/signup",restricted:!0,redirectTo:"/phonebook",children:Object(be.jsx)(Oe,{})}),Object(be.jsx)(et,{path:"/login",restricted:!0,redirectTo:"/phonebook",children:Object(be.jsx)(le,{})}),Object(be.jsx)(tt,{path:"/phonebook",redirectTo:"/login",children:Object(be.jsx)(Ke,{})})]})]})}n(88);j.a.render(Object(be.jsx)(b.a.StrictMode,{children:Object(be.jsx)(h.a,{children:Object(be.jsx)(O.a,{store:G.store,children:Object(be.jsx)(d.a,{loading:null,persistor:G.persistor,children:Object(be.jsx)(nt,{})})})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.5c608973.chunk.js.map